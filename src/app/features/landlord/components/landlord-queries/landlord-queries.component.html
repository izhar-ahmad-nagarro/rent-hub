<div class="mt-5 pb-2 overflow-y-auto query-container">
  <h3>Queries Received</h3>
  <div *ngIf="queries().length === 0" class="text-muted">
    No queries received yet.
  </div>

  <div *ngFor="let query of queries()" class="card mb-3 shadow-sm">
    <div class="card-body">
      <p class="mb-1"><strong>From:</strong> {{ query.userName }}</p>
      <p class="mb-1"><strong>Email:</strong> {{ query.email }}</p>
      <p><strong>Message:</strong> {{ query.message }}</p>
      <small class="text-muted">{{ query.createdAt | date : "short" }}</small>

      <div *ngIf="query.replies.length > 0" class="mt-3">
        <h6>Replies:</h6>
        <ul class="list-group list-group-flush">
          <li *ngFor="let reply of query.replies" class="list-group-item">
            <div>{{ reply.message }}</div>
            <small class="text-muted">{{
              reply.createdAt | date : "short"
            }}</small>
          </li>
        </ul>
      </div>

      <form class="mt-3 d-flex flex-column gap-2" (ngSubmit)="sendReply(query)">
        <textarea
          class="form-control"
          [(ngModel)]="query.replyText"
          name="message"
          rows="2"
          placeholder="Write a reply..."
          required
        ></textarea>
        <app-button
        label ="Send"
        type="submit"
        variant="primary"
        size="sm"
        [btnClasses]="['align-self-end']"
        >

        </app-button>
      </form>
    </div>
  </div>
</div>
